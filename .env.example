# Application Configuration
# Copy this file to .env and update with your values
#
# NOTE: When using Docker Compose, DATABASE_URL and REDIS_HOST are automatically
# overridden to use Docker service names (postgres, redis) instead of localhost.

# PostgreSQL Configuration (for Docker Compose)
POSTGRES_USER=taskpilot
POSTGRES_PASSWORD=taskpilot
POSTGRES_DB=taskpilot

# Backend Configuration
DATABASE_URL="postgresql://taskpilot:taskpilot@localhost:5432/taskpilot"

# Application
# Use 'development' for local dev, 'production' for Docker Compose
NODE_ENV=development

# Authentication & Security
# Generate secure values using:
#   openssl rand -base64 32  (for JWT secrets)
#   openssl rand -hex 32     (for encryption key)
JWT_SECRET="jq2Npnpp0pl9tuKowA1opDBXtjgsrxxOm87rNEgFv5SYAnzF"
JWT_REFRESH_SECRET="evbRTnQhWPqpgZSoVA4uQXKuFjw0UdtmYrvJaGdj6xlxbZp9"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# Encryption for sensitive data (email passwords, etc.)
ENCRYPTION_KEY="Nj9vBnl9xBzZFwPAHe2FTq0x7H1cNeAuuYkqu45r4kP4DAoR"

# Redis Configuration (for Bull Queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Email Configuration (for notifications)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@taskpilot.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@taskpilot.com
EMAIL_DOMAIN="taskpilot.com"

# Frontend URL (for email links and CORS)
# For local development: Frontend runs on port 3001, Backend on port 3000
# For Docker Compose: Both run on port 3000
FRONTEND_URL=http://localhost:3001
CORS_ORIGIN="http://localhost:3001"

# Backend API URL (for frontend to connect to backend)
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api

# File Upload
UPLOAD_DEST="./uploads"
MAX_FILE_SIZE=10485760

# Queue Configuration
MAX_CONCURRENT_JOBS=5
JOB_RETRY_ATTEMPTS=3

# AWS S3 Configuration (optional, for cloud storage)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_BUCKET_NAME=your-bucket-name
