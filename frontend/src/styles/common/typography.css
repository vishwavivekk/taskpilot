/* ================================
   Typography & Font Styles
   ================================ */

@layer base {
  /* WebKit font smoothing */
  body {
    font-family:
      -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif,
      "Apple Color Emoji", "Segoe UI Emoji";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    @apply leading-relaxed;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    background-color: var(--background);
    color: var(--foreground);
  }
}

@layer components {
  /* Global text styles for uniformity */
  .text-heading {
    @apply text-2xl font-bold leading-tight;
  }

  .text-subheading {
    @apply text-lg font-semibold leading-snug;
  }

  .text-body {
    @apply text-base font-normal leading-relaxed;
  }

  .text-muted {
    @apply text-[var(--muted-foreground)] text-sm font-normal;
  }

  /* Additional typography utilities */
  .text-display {
    @apply text-4xl font-bold leading-tight tracking-tight;
  }

  .text-title {
    @apply text-3xl font-bold leading-tight;
  }

  .text-subtitle {
    @apply text-xl font-semibold leading-normal;
  }

  .text-caption {
    @apply text-xs font-medium leading-normal;
  }

  .text-overline {
    @apply text-xs font-semibold uppercase tracking-wide leading-normal;
  }

  /* Font weight utilities */
  .font-light {
    @apply font-light;
  }

  .font-regular {
    @apply font-normal;
  }

  .font-medium {
    @apply font-medium;
  }

  .font-semibold {
    @apply font-semibold;
  }

  .font-bold {
    @apply font-bold;
  }

  /* Text color utilities with theme support */
  .text-primary {
    @apply text-[var(--primary)];
  }

  .text-secondary {
    @apply text-[var(--secondary-foreground)];
  }

  .text-muted {
    @apply text-[var(--muted-foreground)];
  }

  .text-accent {
    @apply text-[var(--accent-foreground)];
  }

  .text-destructive {
    @apply text-[var(--destructive)];
  }

  /* Reading-optimized text styles */
  .prose {
    @apply text-base leading-relaxed text-[var(--foreground)];
  }

  .prose-sm {
    @apply text-sm leading-relaxed;
  }

  .prose h1 {
    @apply text-2xl font-bold leading-tight tracking-tight mb-3 mt-4;
  }

  .prose h2 {
    @apply text-xl font-bold leading-tight mb-2 mt-3;
  }

  .prose h3 {
    @apply text-lg font-bold leading-tight mb-2 mt-3;
  }

  .prose h4,
  .prose h5,
  .prose h6 {
    @apply text-base font-semibold leading-snug mb-2 mt-2;
  }

  .prose p {
    @apply text-base font-normal leading-relaxed mb-3;
  }

  .prose-sm p {
    @apply text-sm mb-2;
  }

  .prose small {
    @apply text-xs font-medium leading-normal text-[var(--muted-foreground)];
  }

  /* Lists */
  .prose ul {
    @apply list-disc pl-6 mb-3 space-y-1;
  }

  .prose ol {
    @apply list-decimal pl-6 mb-3 space-y-1;
  }

  .prose li {
    @apply leading-relaxed;
  }

  .prose li > ul,
  .prose li > ol {
    @apply mt-1 mb-0;
  }

  /* Links */
  .prose a {
    @apply text-[var(--primary)] underline underline-offset-2 hover:text-[var(--primary)]/80 transition-colors;
  }

  /* Inline code */
  .prose code {
    @apply px-1.5 py-0.5 rounded text-sm font-mono bg-[var(--muted)] text-[var(--foreground)];
  }

  /* Code blocks */
  .prose pre {
    @apply p-4 rounded-lg mb-3 overflow-x-auto bg-[var(--muted)] border border-[var(--border)];
  }

  .prose pre code {
    @apply p-0 bg-transparent text-sm;
  }

  /* Blockquotes */
  .prose blockquote {
    @apply pl-4 border-l-4 border-[var(--primary)] italic text-[var(--muted-foreground)] mb-3;
  }

  .prose blockquote p {
    @apply mb-0;
  }

  /* Tables */
  .prose table {
    @apply w-full border-collapse mb-3;
  }

  .prose th {
    @apply border border-[var(--border)] px-3 py-2 text-left font-semibold bg-[var(--muted)];
  }

  .prose td {
    @apply border border-[var(--border)] px-3 py-2;
  }

  /* Horizontal rule */
  .prose hr {
    @apply my-4 border-t border-[var(--border)];
  }

  /* Strong and emphasis */
  .prose strong {
    @apply font-semibold;
  }

  .prose em {
    @apply italic;
  }

  /* Task list checkboxes */
  .prose input[type="checkbox"] {
    @apply mr-2 align-middle accent-[var(--primary)];
  }

  /* Images */
  .prose img {
    @apply max-w-full h-auto rounded-lg mb-3;
  }

  /* Max width utility */
  .max-w-none {
    max-width: none;
  }
}
